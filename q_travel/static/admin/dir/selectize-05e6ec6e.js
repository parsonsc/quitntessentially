(function(){define(["selectize","bs-form"],function(){return angular.module("schemaForm").directive("selectize",["$timeout",function(e){return{restrict:"A",scope:!0,require:"ngModel",link:function(t,n,l,u){return e(function(){var e,i,a,r,c,o;return e=$(n),r=t.$eval(l.selectize),a=!1,c=r.url||null,e.data("url")&&(c=e.data("url")),e.hasClass("tags")&&(r.create=!0,u.$viewValue=u.$viewValue||[],r.options=u.$viewValue.map(function(e){return{name:e,value:e}})),c&&(r.searchField="name",r.load=function(e,t){return $.getJSON(c,{type:model.type,q:e},t)}),i=e.selectize(r)[0].selectize,i.on("change",function(e){return u&&u.$setViewValue(e),t.$apply()}),u.$viewValue&&(o=u.$viewValue,null!=o)?i.setValue(o):void 0})}}}])})}).call(this);