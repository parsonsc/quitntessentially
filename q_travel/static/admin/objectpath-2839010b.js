!function(){var e={parse:function(e){if("string"!=typeof e)throw new TypeError("ObjectPath.parse must be passed a string");for(var n,t,i,r,s=0,f=[];s<e.length;)if(n=e.indexOf(".",s),t=e.indexOf("[",s),-1===n&&-1===t)f.push(e.slice(s,e.length)),s=e.length;else if(-1===t||-1!==n&&t>n)f.push(e.slice(s,n)),s=n+1;else if(t>s&&(f.push(e.slice(s,t)),s=t),i=e.slice(t+1,t+2),'"'!==i&&"'"!==i)r=e.indexOf("]",t),-1===r&&(r=e.length),f.push(e.slice(s+1,r)),s="."===e.slice(r+1,r+2)?r+2:r+1;else{for(r=e.indexOf(i+"]",t),-1===r&&(r=e.length);"\\"===e.slice(r-1,r)&&t<e.length;)t++,r=e.indexOf(i+"]",t);f.push(e.slice(s+2,r).replace(new RegExp("\\"+i,"g"),i)),s="."===e.slice(r+2,r+3)?r+3:r+2}return f},stringify:function(e,n){return Array.isArray(e)||(e=[e.toString()]),n='"'===n?'"':"'",e.map(function(e){return"["+n+e.toString().replace(new RegExp(n,"g"),"\\"+n)+n+"]"}).join("")},normalize:function(n,t){return e.stringify(Array.isArray(n)?n:e.parse(n),t)}};"function"==typeof define&&define.amd?define([],function(){return e}):"object"==typeof exports?exports.ObjectPath=e:"object"==typeof angular?angular.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=e.parse,this.stringify=e.stringify,this.normalize=e.normalize,this.$get=function(){return e}}):window.ObjectPath=e}();